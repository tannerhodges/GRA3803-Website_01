<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--livedocs:no--><!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta name="lang" content="en-us" />
		<meta name="area" content="livedocs" />
		<meta name="product" content="Spry" />
		<meta name="productv" content="SDG" />
		<link rel="stylesheet" type="text/css" href="content.css" />
		<title>
			Spry * Create a Spry XML data set
		</title>
<!-- Changed by: , 12-Jun-2007 -->
<script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> 
		
		
<script type="text/javascript">
<!--[CDATA[
handleContext(1);
if (use_ie_6_behavior) {
  document.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"content-ie6.css\" />");
}
// ]]-->
</script> 
		
<script src="scripts.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> 
	</head>
	<body id="content_body">
<!--googleoff: index-->
<!-- BEGIN PAGE CONTENT WRAPPER -->
		<div id="pneumonic">
			<h1 class="Spry">Spry</h1>
		</div>
		<div id="page_content_wrapper">
			
<!-- BEGIN BREADCRUMBS -->
			<div id="breadcrumb">
<!-- BEGIN BREADCRUMBS -->
				
<div class="nav"><dl class="page"><dd class="prev"><a accesskey="p" class="prev" href="WSE8C2ECEC-CD16-41d4-BBEC-7DF9DD2398A2.html" title="Prepare your files"><img src="images/prev.gif" alt="Previous" /></a></dd><dd class="next"><a accesskey="n" class="next" href="WSF81D2EA9-42A9-41f1-B9B8-5AC50FB318F9.html" title="Working with HTML data sets"><img src="images/next.gif" alt="Next" /></a></dd></dl></div><div class="hierarchy"><a href="WS0E8F8394-CA82-4453-85F9-A1AC266DCBA4.html">Working with Spry data sets</a> /
     <a href="WS9DA7216F-166F-4ab3-87E0-1E558798EC95.html"><b>Working with XML data sets</b></a> 
     </div>

<!-- END BREADCRUMBS -->
			</div>
<!-- END BREADCRUMBS -->
<!-- BEGIN PAGE TITLE -->
<!--googleon: index-->
			<h1>
				Create a Spry XML data set
			</h1>
<!--googleoff: index-->
<!-- END PAGE TITLE -->
			<div id="content_wrapper">
<!--googleon: index-->
				<div><ol><li class="stepexpand"><span>
                              Open
a new or existing HTML page.</span></li>
<li class="stepexpand"><span>Make sure that you’ve linked the Spry data library files
to the page. For more information, see Prepare
your files.</span></li>
<li class="stepexpand"><span>Locate the XML source for the data set.</span> 
                              <p>For example, you might want to use an XML file called <dfn class="term">cafetownsend.xml</dfn> located in
a folder called <dfn class="term">data</dfn> in the site’s root folder:</p>

                              <p>data/cafetownsend.xml</p>

                              <p>You
could also specify a URL to an XML file, as follows:</p>

                              <p>http://www.somesite.com/somefolder/cafetownsend.xml</p>

                              <div class="note"><span class="notetitle">Note:  </span>The
URL you decide to use (whether absolute or relative) is subject
to the browser’s security model, which means that you can only load
data from an XML source that is on the same server domain as the
HTML page you’re linking from. You can avoid this limitation by
providing a cross-domain service script. For more information, consult
your server administrator.</div>

                           </li>
<li class="stepexpand"><span>Because you’ll need to specify the repeating XML node
that supplies data to the data set, make sure you understand the
structure of the XML before you create the data set.</span> 
                              <p>In the following example, the cafetownsend.xml file consists
of a parent node called <samp class="codeph">specials</samp> that contains
a repeating child node called <samp class="codeph">menu_item</samp>.</p>

                              <pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;specials&gt;	
	&lt;menu_item id="1"&gt;
		&lt;item&gt;Summer Salad&lt;/item&gt;
		&lt;description&gt;organic butter lettuce with apples, blood oranges, gorgonzola, and raspberry vinaigrette.&lt;/description&gt;
		&lt;price&gt;7&lt;/price&gt;
	&lt;/menu_item&gt;
	&lt;menu_item id="2"&gt;
		&lt;item&gt;Thai Noodle Salad&lt;/item&gt;
		&lt;description&gt;lightly sauteed in sesame oil with baby bok choi, portobello mushrooms, and scallions.&lt;/description&gt;
		&lt;price&gt;8&lt;/price&gt;
	&lt;/menu_item&gt;
	&lt;menu_item id="3"&gt;
		&lt;item&gt;Grilled Pacific Salmon&lt;/item&gt;
		&lt;description&gt;served with new potatoes, diced beets, Italian parlsey, and lemon zest.&lt;/description&gt;
		&lt;price&gt;16&lt;/price&gt;
	&lt;/menu_item&gt;
&lt;/specials&gt;</pre>

                           </li>
<li class="stepexpand"><span>To create the data set, insert the following <samp class="codeph">script</samp> block
after the <samp class="codeph">script</samp> tags importing the library:</span> 
                              <pre>&lt;script type="text/javascript"&gt;
	var datasetName = new Spry.Data.XMLDataSet("<em>XMLsource</em>", "<em>XPathToRepeatingChildNode</em>");
&lt;/script&gt;</pre>

                              <p>In the Cafe Townsend example, you
create a data set with the following statement:</p>

                              <pre>var dsSpecials = new Spry.Data.XMLDataSet("data/cafetownsend.xml", "specials/menu_item");</pre>

                              <p>The
statement creates a new data set called <samp class="codeph">dsSpecials</samp> that
retrieves data from the s<samp class="codeph">pecials/menu_item</samp> node
in the specified XML file. The data set has a row for each menu
item and the following columns: @id, item, description, and price
that the following table represents. </p>

                              
<div class="tablenoborder"><table border="0" cellpadding="0" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d16e19082">
                                             <p>@id</p>

                                          </th>
<th valign="top" width="NaN%" id="d16e19087">
                                             <p>item</p>

                                          </th>
<th valign="top" width="NaN%" id="d16e19092">
                                             <p>description</p>

                                          </th>
<th valign="top" width="NaN%" id="d16e19097">
                                             <p>price</p>

                                          </th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d16e19082 ">
                                             <p>1</p>

                                          </td>
<td valign="top" width="NaN%" headers="d16e19087 ">
                                             <p>Summer salad</p>

                                          </td>
<td valign="top" width="NaN%" headers="d16e19092 ">
                                             <p>organic butter lettuce with apples, blood oranges,
gorgonzola, and raspberry vinaigrette.</p>

                                          </td>
<td valign="top" width="NaN%" headers="d16e19097 ">
                                             <p>7</p>

                                          </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e19082 ">
                                             <p>2</p>

                                          </td>
<td valign="top" width="NaN%" headers="d16e19087 ">
                                             <p>Thai Noodle Salad</p>

                                          </td>
<td valign="top" width="NaN%" headers="d16e19092 ">
                                             <p>lightly sauteed in sesame oil with baby
bok choi, portobello mushrooms, and scallions.</p>

                                          </td>
<td valign="top" width="NaN%" headers="d16e19097 ">
                                             <p>8</p>

                                          </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e19082 ">
                                             <p>3</p>

                                          </td>
<td valign="top" width="NaN%" headers="d16e19087 ">
                                             <p>Grilled Pacific Salmon</p>

                                          </td>
<td valign="top" width="NaN%" headers="d16e19092 ">
                                             <p>served with new potatoes, diced beets, Italian
parsley, and lemon zest.</p>

                                          </td>
<td valign="top" width="NaN%" headers="d16e19097 ">
                                             <p>16</p>

                                          </td>
</tr>
</tbody>
</table>
</div>

                              <p>You can also specify a URL as the source
of the XML data, as follows:</p>

                              <pre>var dsSpecials = new Spry.Data.XMLDataSet("http://www.somesite.com/somefolder/cafetownsend.xml", "specials/menu_item");</pre>

                              <p>The
completed example code might look as follows:</p>

                              <pre>&lt;head&gt;
...
&lt;script type="text/javascript" src="includes/xpath.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="includes/SpryData.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
	var dsSpecials = new Spry.Data.XMLDataSet("data/cafetownsend.xml", "specials/menu_item");
&lt;/script&gt;
...
&lt;/head&gt;</pre>

                           </li>
<li class="stepexpand"><span>(Optional) If the values in your data set include numbers
(as in this example), reset the column types for the columns that
contain those numerical values. This becomes important later if
you want to sort data.</span> 
                              <p>To set column types, add the <samp class="codeph">setColumnType</samp>
                                 <samp class="codeph">()</samp> data
set method to the head tag of your document, after
you’ve created the data set, as follows (in bold):</p>

                              <pre>&lt;script type="text/javascript"&gt;	
	var dsSpecials = new Spry.Data.XMLDataSet("data/cafetownsend.xml", "specials/menu_item"); 	
	<strong>dsSpecials.setColumnType("price", "number")</strong>;
&lt;/script&gt;</pre>

                              <p>In the example, the expression calls
the <samp class="codeph">setColumnType</samp> method on the <samp class="codeph">dsSpecials</samp> data
set object, which you’ve already defined. The <samp class="codeph">setColumnType</samp> method
takes two parameters: the name of the data set column to retype
(<samp class="codeph">"price"</samp>) and the desired data type (<samp class="codeph">"number"</samp>).</p>

                              <p>For
more information, see <a href="WS1D07A616-54BE-4d57-9AB1-88914856F1F2.html">Let users sort data</a>.</p>

                           </li>
</ol>
<div class="section">
                        <p>After you’ve created the data set, create a dynamic region
so that you can display the data.</p>

                     </div>
</div>

<!--googleoff: index-->
			</div>
		</div>
<!-- END PAGE CONTENT WRAPPER --><!--#include virtual="/livedocs/en_US/ssi/survey/surveyJune09.ssi" -->
    <br clear="both" />
<!-- The following start/end comments determine where comments are placed in LiveDocs. --> 
<!-- start content wrapper --> 
<!-- end content wrapper --> 

</body>
