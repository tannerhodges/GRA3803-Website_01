<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--livedocs:no--><!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta name="lang" content="en-us" />
		<meta name="area" content="livedocs" />
		<meta name="product" content="Spry" />
		<meta name="productv" content="SDG" />
		<link rel="stylesheet" type="text/css" href="content.css" />
		<title>
			Spry * Using row selectors and data selectors
		</title>
<!-- Changed by: , 12-Jun-2007 -->
<script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> 
		
		
<script type="text/javascript">
<!--[CDATA[
handleContext(1);
if (use_ie_6_behavior) {
  document.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"content-ie6.css\" />");
}
// ]]-->
</script> 
		
<script src="scripts.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> 
	</head>
	<body id="content_body">
<!--googleoff: index-->
<!-- BEGIN PAGE CONTENT WRAPPER -->
		<div id="pneumonic">
			<h1 class="Spry">Spry</h1>
		</div>
		<div id="page_content_wrapper">
			
<!-- BEGIN BREADCRUMBS -->
			<div id="breadcrumb">
<!-- BEGIN BREADCRUMBS -->
				
<div class="nav"><dl class="page"><dd class="prev"><a accesskey="p" class="prev" href="WS5AA8B079-2344-45b7-B2C7-CEB73BE604CD.html" title="About colspan and rowspan"><img src="images/prev.gif" alt="Previous" /></a></dd><dd class="next"><a accesskey="n" class="next" href="WSA9621B15-85A5-4cea-806B-EB1E853E0039.html" title="HTML data set functions"><img src="images/next.gif" alt="Next" /></a></dd></dl></div><div class="hierarchy"><a href="WS0E8F8394-CA82-4453-85F9-A1AC266DCBA4.html">Working with Spry data sets</a> /
     <a href="WSF81D2EA9-42A9-41f1-B9B8-5AC50FB318F9.html"><b>Working with HTML data sets</b></a> 
     </div>

<!-- END BREADCRUMBS -->
			</div>
<!-- END BREADCRUMBS -->
<!-- BEGIN PAGE TITLE -->
<!--googleon: index-->
			<h1>
				Using row selectors and data selectors
			</h1>
<!--googleoff: index-->
<!-- END PAGE TITLE -->
			<div id="content_wrapper">
<!--googleon: index-->
				<div><div class="section">
                        <div class="p">
                           
                           If you want to create a
data set, but don’t want every piece of data from the data source,
or want to specify specific pieces of data from the data source,
you can use a row selector and a data selector. Spry supports the
following two options for this purpose:<dl><dt class="dlterm">rowSelector</dt>
<dd>
                                    lets you specify an element that contains the data. When
you specify the <samp class="codeph">rowSelector</samp> option, you essentially
specify the equivalent of a <samp class="codeph">tr</samp> tag in an HTML table
data source.
                                 </dd><p class="dlseparator"></p><dt class="dlterm">dataSelector</dt>
<dd>
                                    lets you specify the actual elements that contain the data.
When you specify the <samp class="codeph">dataSelector</samp> option, you essentially
specify the equivalent of a <samp class="codeph">td</samp> tag or tags in an
HTML table data source.
                                 </dd><p class="dlseparator"></p></dl>

                        </div>

                        <p>For example,
you might have the following HTML code structure as your data source:</p>

                        <pre>&lt;div id="mydata"&gt;
  &lt;ul&gt;
    &lt;li&gt; 
    &lt;li&gt;
  &lt;/ul&gt;
  &lt;ul&gt;
    &lt;li&gt;
    &lt;li&gt;
  &lt;/ul&gt;
&lt;/div&gt;</pre>

                        <p>In the example, the <samp class="codeph">ul</samp> tags
(which group together chunks of data) are the equivalent of row
selectors, and the <samp class="codeph">li</samp> tags (which contain the actual
data) are the data selectors.</p>

                        <p>You then set a selector or selectors
in the constructor as follows:</p>

                        <pre>var ds1 = new  Spry.Data.HTMLDataSet(null, "mydata", {rowSelector:"ul", dataSelector:"li"});</pre>

                     </div>
</div>
<h3 class="topictitle3"><a href="#WS7A5022C2-D405-4196-89FF-45EFD6DE1648" onclick="javascript:toggleLayer('WS7A5022C2-D405-4196-89FF-45EFD6DE1648');return false;" title="Collect data using CSS"><img src="images/off.gif" />Collect data using CSS</a></h3><div id="WS7A5022C2-D405-4196-89FF-45EFD6DE1648" class="mini"><a name="WS7A5022C2-D405-4196-89FF-45EFD6DE1648"><!-- --></a><div>
                        <div class="section">
                           <p>The concept of row selectors and data selectors is extremely
useful if you want to collect data using CSS selector syntax. For
example, suppose you are using the following table as your data
source:</p>

                           <div class="p">
                              <pre>&lt;table id=”employees”&gt;
	&lt;tr&gt;
		&lt;td&gt;Name&lt;/td&gt;
		&lt;td&gt;Email&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr class=”contractor”&gt;
		&lt;td&gt;Don&lt;/td&gt;
		&lt;td&gt;don@abc.com&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt;Kin&lt;/td&gt;
		&lt;td&gt;kin@abc.com&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr class=”contractor”&gt;
		&lt;td&gt;James&lt;/td&gt;
		&lt;td&gt;james@abc.com&lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt;</pre>

                           </div>

                           <p>You can specify to retrieve only
the rows of data that have the <samp class="codeph">contractor</samp> class assigned
to them when you create the data set. To do this, you specify the <samp class="codeph">rowSelector</samp> option
in the constructor as follows:</p>

                           <pre>var ds1= new Spry.Data.HTMLDataSet("mypage.htm", "thetableID",{rowSelector:".contractor"});</pre>

                           <p>The
result is the following data returned in the data set:</p>

                           
<div class="tablenoborder"><table border="0" cellpadding="0" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d16e20075">
                                          <p>Name</p>

                                       </th>
<th valign="top" width="NaN%" id="d16e20080">
                                          <p>Email</p>

                                       </th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d16e20075 ">
                                          <p>Don</p>

                                       </td>
<td valign="top" width="NaN%" headers="d16e20080 ">
                                          <p>don@abc.com</p>

                                       </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e20075 ">
                                          <p>James</p>

                                       </td>
<td valign="top" width="NaN%" headers="d16e20080 ">
                                          <p>james@abc.com</p>

                                       </td>
</tr>
</tbody>
</table>
</div>

                           <p>You can also use more than CSS classes
to specify which pieces of data you want. The following table shows
the many different CSS selectors you can use.</p>

                           
<div class="tablenoborder"><table border="0" cellpadding="0" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d16e20120">
                                          <p>Element</p>

                                       </th>
<th valign="top" width="NaN%" id="d16e20125">
                                          <p>Examples</p>

                                       </th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d16e20120 ">
                                          <p>tag name </p>

                                       </td>
<td valign="top" width="NaN%" headers="d16e20125 ">
                                          <p>DIV; SPAN; *</p>

                                       </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e20120 ">
                                          <p>class name</p>

                                       </td>
<td valign="top" width="NaN%" headers="d16e20125 ">
                                          <p>.rowData; .even</p>

                                       </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e20120 ">
                                          <p>id</p>

                                       </td>
<td valign="top" width="NaN%" headers="d16e20125 ">
                                          <p>#product1</p>

                                       </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e20120 ">
                                          <p>tag name with class name</p>

                                       </td>
<td valign="top" width="NaN%" headers="d16e20125 ">
                                          <p>DIV.rowData; *.header</p>

                                       </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e20120 ">
                                          <p>tag name with id</p>

                                       </td>
<td valign="top" width="NaN%" headers="d16e20125 ">
                                          <p>DIV#product1</p>

                                       </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e20120 ">
                                          <p>child selector (only first-level descendents)</p>

                                       </td>
<td valign="top" width="NaN%" headers="d16e20125 ">
                                          <p>&gt;</p>

                                       </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e20120 ">
                                          <p>child selector combined with any of the above</p>

                                       </td>
<td valign="top" width="NaN%" headers="d16e20125 ">
                                          <p>&gt; DIV.rowData</p>

                                       </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e20120 ">
                                          <p>comma delimited list of selectors (node selected
if it matches at least one from the list)</p>

                                       </td>
<td valign="top" width="NaN%" headers="d16e20125 ">
                                          <p>#product1, #product2, #product3</p>

                                       </td>
</tr>
</tbody>
</table>
</div>

                        </div>

                     </div></div>
<h3 class="topictitle3"><a href="#WSE25F3BAE-6F5C-4c48-97DF-94DD1A43B028" onclick="javascript:toggleLayer('WSE25F3BAE-6F5C-4c48-97DF-94DD1A43B028');return false;" title="Collect data by specifying a row selector only"><img src="images/off.gif" />Collect data by specifying a row selector only</a></h3><div id="WSE25F3BAE-6F5C-4c48-97DF-94DD1A43B028" class="mini"><a name="WSE25F3BAE-6F5C-4c48-97DF-94DD1A43B028"><!-- --></a><div>
                        <div class="section">
                           <p>You can break away from the table row/column paradigm
and use the HTML data set to pull in data from any element on the
page. The <samp class="codeph">rowSelector</samp> option extracts rows of data,
but uses a single column to map the content of each row. In this example,
each <samp class="codeph">li</samp> tag marks the start of a new row of data,
but the row is only one column long.</p>

                           <pre>&lt;ul id="myList"&gt;
   &lt;li&gt;one&lt;/li&gt;
   &lt;li&gt;two&lt;/li&gt;
   &lt;li&gt;three&lt;/li&gt;
&lt;/ul&gt;</pre>

                           <p>You can set the following options in the
constructor:</p>

                           <pre>var ds1 = new Spry.Data.HTMLDataSet(null, "myList", {firstRowAsHeaders:false, rowSelector: "li"});</pre>

                           <p>The
resulting data set would be as follows:</p>

                           
<div class="tablenoborder"><table border="0" cellpadding="0" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d16e20260">
                                          <p>column 0</p>

                                       </th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d16e20260 ">
                                          <p>one</p>

                                       </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e20260 ">
                                          <p>two</p>

                                       </td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e20260 ">
                                          <p>three</p>

                                       </td>
</tr>
</tbody>
</table>
</div>

                           <p>In your Spry page that displays the data,
you would use the following data placeholder:</p>

                           <pre>&lt;div spry:region="ds1"&gt;&lt;span spry:repeat="ds1"&gt;{column0}&lt;/span&gt;&lt;/div&gt;</pre>

                        </div>

                     </div></div>
<h3 class="topictitle3"><a href="#WS5334CA8D-B80D-41bc-AF2B-9B01D7070966" onclick="javascript:toggleLayer('WS5334CA8D-B80D-41bc-AF2B-9B01D7070966');return false;" title="Collect data by specifying a data selector only"><img src="images/off.gif" />Collect data by specifying a data selector only</a></h3><div id="WS5334CA8D-B80D-41bc-AF2B-9B01D7070966" class="mini"><a name="WS5334CA8D-B80D-41bc-AF2B-9B01D7070966"><!-- --></a><div>
                        <div class="section">
                           <p>The <samp class="codeph">dataSelector</samp> option tells the HTML
Data Set that you are only interested in extracting certain pieces
of data from the larger container, but that you are not interested
in using multiple rows. The result is a single row of data with
different columns inside the row.</p>

                           <p>For example, you might have
the following code as your data source:</p>

                           <pre>&lt;div  id="myContainer"&gt;
	Some data here
		&lt;div id="first"&gt;This is the  first chunk I'm interested in&lt;/div&gt;
	Some other data &lt;span&gt;goes here&lt;/span&gt;
		&lt;div id="second"&gt;The second chunk&lt;/div&gt;
	More uninteresting data..
&lt;/div&gt;</pre>

                           <p>You can set either of the following as
constructors:</p>

                           <pre>var ds1 = new Spry.Data.HTMLDataSet(null, "myContainer", {dataSelector: "div"});
OR
var ds1 = new Spry.Data.HTMLDataSet(null, "myContainer", {dataSelector: "#first, #second"});</pre>

                           <div class="p">The
resulting data set would be as follows:
<div class="tablenoborder"><table border="0" cellpadding="0" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d16e20331">
                                             <p>@first</p>

                                          </th>
<th valign="top" width="NaN%" id="d16e20336">
                                             <p>@second</p>

                                          </th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d16e20331 ">
                                             <p>This is the first chunk I’m interested in</p>

                                          </td>
<td valign="top" width="NaN%" headers="d16e20336 ">
                                             <p>The second chunk</p>

                                          </td>
</tr>
</tbody>
</table>
</div>

                           </div>

                           <p>And in your Spry page that displays
the data, you would use the following data placeholder:</p>

                           <pre>&lt;div spry:region="ds1"&gt;This is the first value {@first} and this is the second {@second}&lt;/div&gt;</pre>

                           <p>Notice
that the data reference is <samp class="codeph">{@<em>elementID</em>}</samp>.
This happens <em>only</em> in the case of single-row data. Instead
of using <samp class="codeph">{column0}</samp>, <samp class="codeph">{column1},</samp> you
use the ID on the chunks of extracted data as column names. You
can overwrite this behavior by passing <samp class="codeph">{IDAsHeadersForSingleRow:false}</samp> and
use the <samp class="codeph">{column0}</samp>, <samp class="codeph">{column1}</samp> data
references in your <samp class="codeph">spry:region</samp>.</p>

                        </div>

                     </div></div>
<h3 class="topictitle3"><a href="#WS15044CC8-E042-4b55-993C-38A5B6D9A625" onclick="javascript:toggleLayer('WS15044CC8-E042-4b55-993C-38A5B6D9A625');return false;" title="Collect data without specifying a row selector or data selector"><img src="images/off.gif" />Collect data without specifying a row selector or data selector</a></h3><div id="WS15044CC8-E042-4b55-993C-38A5B6D9A625" class="mini"><a name="WS15044CC8-E042-4b55-993C-38A5B6D9A625"><!-- --></a><div>
                        <div class="section">
                           <p>You can collect data by mapping the entire HTML structure
to the data set in one cell. This results in a single row, single
column data set.</p>

                           <p>For example, you might have the following
code as your data source code:</p>

                           <pre>&lt;div id="someData"&gt;This is the source used&lt;/div&gt;</pre>

                           <p>You
would set the following values in the constructor:</p>

                           <pre>var ds1 = new Spry.Data.HTMLDataSet(null, "someData");</pre>

                           <p>And
in your Spry page that displays the data, you would use the following
data reference:</p>

                           <pre>&lt;div spry:region="ds1"&gt;Here's the extracted value: {column0}&lt;/div&gt;</pre>

                        </div>

                     </div></div>

<!--googleoff: index-->
			</div>
		</div>
<!-- END PAGE CONTENT WRAPPER --><!--#include virtual="/livedocs/en_US/ssi/survey/surveyJune09.ssi" -->
    <br clear="both" />
<!-- The following start/end comments determine where comments are placed in LiveDocs. --> 
<!-- start content wrapper --> 
<!-- end content wrapper --> 

</body>
