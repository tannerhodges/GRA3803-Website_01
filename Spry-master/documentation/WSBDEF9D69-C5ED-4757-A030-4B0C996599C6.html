<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--livedocs:no--><!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
		<meta name="lang" content="en-us" />
		<meta name="area" content="livedocs" />
		<meta name="product" content="Spry" />
		<meta name="productv" content="SDG" />
		<link rel="stylesheet" type="text/css" href="content.css" />
		<title>
			Spry * Looping constructs
		</title>
<!-- Changed by: , 12-Jun-2007 -->
<script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> 
		
		
<script type="text/javascript">
<!--[CDATA[
handleContext(1);
if (use_ie_6_behavior) {
  document.write("<link rel=\"stylesheet\" type=\"text/css\" href=\"content-ie6.css\" />");
}
// ]]-->
</script> 
		
<script src="scripts.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> 
	</head>
	<body id="content_body">
<!--googleoff: index-->
<!-- BEGIN PAGE CONTENT WRAPPER -->
		<div id="pneumonic">
			<h1 class="Spry">Spry</h1>
		</div>
		<div id="page_content_wrapper">
			
<!-- BEGIN BREADCRUMBS -->
			<div id="breadcrumb">
<!-- BEGIN BREADCRUMBS -->
				
<div class="nav"><dl class="page"><dd class="prev"><a accesskey="p" class="prev" href="WS39D7F788-5D6F-4f61-8B26-964503664B52.html" title="Working with dynamic regions"><img src="images/prev.gif" alt="Previous" /></a></dd><dd class="next"><a accesskey="n" class="next" href="WS557937C8-85AC-4560-BE84-7A5B9EF0DAB0.html" title="Conditional constructs"><img src="images/next.gif" alt="Next" /></a></dd></dl></div><div class="hierarchy"><a href="WS92D8205E-7F41-4ab3-9F25-C1FEE2EEC0BB.html">Building dynamic pages with Spry</a> /
     <a href="WS39D7F788-5D6F-4f61-8B26-964503664B52.html"><b>Working with dynamic regions</b></a> 
     </div>

<!-- END BREADCRUMBS -->
			</div>
<!-- END BREADCRUMBS -->
<!-- BEGIN PAGE TITLE -->
<!--googleon: index-->
			<h1>
				Looping constructs
			</h1>
<!--googleoff: index-->
<!-- END PAGE TITLE -->
			<div id="content_wrapper">
<!--googleon: index-->
				<div><p>
                        Dynamic
regions currently support two looping constructs. One allows you
to repeat an element and all of its content for each row in a given
data set (<samp class="codeph">spry:repeat</samp>), and another allows you
to repeat all of the children of a given element for each row in
a given data set (<samp class="codeph">spry:repeatchildren</samp>).</p>
<p>To designate an element as something that repeats, add a <samp class="codeph">spry:repeat</samp> attribute
to the element with a value that is the name of the data set to
repeat. The following example shows an <samp class="codeph">li</samp> block
that repeats for every row in the <samp class="codeph">dsPhotos</samp> data
set</p>
<pre>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:spry="http://ns.adobe.com/spry"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;title&gt;Dynamic Region Example&lt;/title&gt;
&lt;script type="text/javascript" src="../../includes/xpath.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="../../includes/SpryData.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
var dsPhotos = new Spry.Data.XMLDataSet("/photos.php?galleryid=2000", "/gallery/photos/photo");
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;div spry:region="dsPhotos"&gt;
		&lt;ul&gt;
			&lt;li <strong>spry:repeat="dsPhotos"</strong>&gt;{@path}&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<p>To repeat just the children of an element, use the <samp class="codeph">spry:repeatchildren</samp> attribute instead.
In the following example, the children of the <samp class="codeph">ul</samp> tag
repeats for every row in the <samp class="codeph">dsPhotos</samp> data set:</p>
<pre>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:spry="http://ns.adobe.com/spry"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;title&gt;Dynamic Region Example&lt;/title&gt;
&lt;script type="text/javascript" src="../../includes/xpath.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="../../includes/SpryData.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
var dsPhotos = new Spry.Data.XMLDataSet("/photos.php?galleryid=2000", "/gallery/photos/photo");
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;div spry:region="dsPhotos"&gt;
		&lt;ul <strong>spry:repeatchildren="dsPhotos"</strong>&gt;
			&lt;li&gt;{@path}&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<p>The preceding <samp class="codeph">"spry:repeat"</samp> and <samp class="codeph">"spry:repeatchildren"</samp> examples
are functionally equivalent, but <samp class="codeph">"spry:repeatchildren"</samp> becomes
more useful when used in conjunction with conditional constructs.
Both examples result in the following output: </p>
<pre>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:spry="http://ns.adobe.com/spry"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;title&gt;Dynamic Region Example&lt;/title&gt;
&lt;script type="text/javascript" src="../../includes/xpath.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="../../includes/SpryData.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
var dsPhotos = new Spry.Data.XMLDataSet("/photos.php?galleryid=2000", "/gallery/photos/photo");
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;div&gt;
		&lt;ul&gt;
			&lt;li&gt;<strong>sun.jpg</strong>&lt;/li&gt;
			&lt;li&gt;<strong>tree.jpg</strong>&lt;/li&gt;
			&lt;li&gt;<strong>surf.jpg</strong>&lt;/li&gt;
		&lt;/ul&gt;	
	&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<p>If you do not want to output the content in a repeat region for
every row in the data set, limit what gets written out during the
loop processing by adding a <samp class="codeph">spry:test</samp> attribute
to the element that has the <samp class="codeph">spry:repeat</samp> or <samp class="codeph">spry:repeatchildren</samp> attribute
on it.</p>
<p>The following example shows an <samp class="codeph">li</samp> block that
is only output if the first letter of the value of <samp class="codeph">{@path}</samp> starts
with the letter <dfn class="term">s</dfn>:</p>
<pre>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:spry="http://ns.adobe.com/spry"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;title&gt;Dynamic Region Example&lt;/title&gt;
&lt;script type="text/javascript" src="../../includes/xpath.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="../../includes/SpryData.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
var dsPhotos = new Spry.Data.XMLDataSet("/photos.php?galleryid=2000", "/gallery/photos/photo");
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;div spry:region="dsPhotos"&gt;
		&lt;ul&gt;
			&lt;li spry:repeat="dsPhotos" <strong>spry:test="'{@path}'.search(/^s/)
!= -1;"</strong>&gt;{@path}&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<p>The value of this <samp class="codeph">spry:test</samp> attribute can be
any JavaScript expression that evaluates to zero or <samp class="codeph">false</samp> or
some nonzero value. If the expression returns a nonzero value, the
content is output. Because you are using XHTML, any special characters
like <dfn class="term">&amp;</dfn>, <dfn class="term">&lt;</dfn>, or <dfn class="term">&gt;</dfn> that
might be used in a JavaScript expression need to be converted to
HTML entities. You can also use data references inside this JavaScript
expression and the dynamic region processing engine provides the
actual values from a data set just before evaluating the <samp class="codeph">spry:test</samp> expression.</p>
<p>The following code shows the final output of the preceding example:</p>
<pre>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:spry="http://ns.adobe.com/spry"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /&gt;
&lt;title&gt;Dynamic Region Example&lt;/title&gt;
&lt;script type="text/javascript" src="../../includes/xpath.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="../../includes/SpryData.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
var dsPhotos = new Spry.Data.XMLDataSet("/photos.php?galleryid=2000", "/gallery/photos/photo");
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;div&gt;
		&lt;ul&gt;
			&lt;li&gt;<strong>sun.jpg</strong>&lt;/li&gt;
			&lt;li&gt;<strong>surf.jpg</strong>&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>

<!--googleoff: index-->
			</div>
		</div>
<!-- END PAGE CONTENT WRAPPER --><!--#include virtual="/livedocs/en_US/ssi/survey/surveyJune09.ssi" -->
    <br clear="both" />
<!-- The following start/end comments determine where comments are placed in LiveDocs. --> 
<!-- start content wrapper --> 
<!-- end content wrapper --> 

</body>
